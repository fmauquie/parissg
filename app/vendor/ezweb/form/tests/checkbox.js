define(["ngMocks","ezweb/i18n/main","ezweb/form/directives/checkbox","ezweb/form/directives/layout"],function(){"use strict";var a,b={};describe("** Directive multi-checkbox test **",function(){function c(a){b=a.$new(),b.fruits=["banana","apple","grape","pear"],b.user={likedFruits:{banana:!0}}}function d(c){var d=a(e(c))(b);return b.$digest(),d}function e(a){var b=angular.element('<form name="form_radio_demo">'),c=angular.element('<ez-form-checkboxes ez-label="Which fruits do you like ?" ez-options="fruits" ng-model="user.likedFruits" ez-option-label="item" '+(angular.isDefined(a)?a:"")+">"),d=angular.element("<pre>").html("{{user | json}}");return b.append(c),b.append(d),b}beforeEach(module("ezweb.i18n")),beforeEach(module("ezweb.form.directives.layout")),beforeEach(module("ezweb.form.directives.checkbox")),beforeEach(inject(function(b,d){c(b),a=d})),it("Should generate the right number of checkboxes",function(){var a=d(),b=a.find("input");expect(b.length).toEqual(4)}),it("Should bind the content from controller to view",function(){var a=d(),c=a.find("input");expect(c.eq(0).val()).toEqual("on"),expect(c.eq(3).val()).toEqual("on"),b.$apply(function(){b.user.likedFruits={banana:!0,pear:!0}}),expect(c.eq(0).val()).toBeTruthy(),expect(c.eq(3).val()).toBeTruthy()}),it("Should check all the checkboxes if ez-options-checkall is set to true",function(){for(var a=d('ez-options-checkall="true"'),b=a.find("input"),c=0;c<b.length;c++)expect(b.eq(c).val()).toBeTruthy()})}),describe("** ez-form-checkbox **",function(){function c(a){b=a.$new(),b.user={subscribe:!1}}function d(){var c=a(e())(b);return b.$digest(),c}function e(){var a=angular.element('<form name="form_radio_demo">'),b=angular.element('<ez-form-checkbox ez-label="About your privacy:" ng-model="user.subscribe">'),c=angular.element("<pre>").html("{{user | json}}");return a.append(b),a.append(c),a}beforeEach(module("ezweb.form.directives.checkbox")),beforeEach(inject(function(b,d){c(b),a=d})),it("Should bind the content from controller to view",function(){var a=d(),c=a.find("input");expect(c.val()).toEqual("on"),b.$apply(function(){b.user.subscribe=!0}),expect(c.val()).toBeTruthy()}),it("Should display a label",function(){var a=d(),b=a.find("label");expect(b).toBeDefined(),expect(b.text()).toEqual("About your privacy:")}),it("Should display only one checkbox",function(){var a=d(),b=a.find("input");expect(b.length).toEqual(1)})})});