define(["angular","jquery","./scopeServices"],function(a,b){"use strict";return a.module("ezweb.core.services.win",["ezweb.core.services.scope"]).factory("ezweb.core.services.win",["$window","$rootScope","$timeout","ezweb.core.services.scope",function(a,c,d,e){var f=b(a);e.ensure("win",{size:{width:f.outerWidth(!0),height:f.outerHeight(!0),change:0},watch:function(a){return c.$watch("ezweb.win.size.change",function(){a(e.win.size)})}});var g=null;return f.on("resize",function(){null!==g&&d.cancel(g),g=d(function(){e.win.size.width=f.outerWidth(!0),e.win.size.height=f.outerHeight(!0),e.win.size.change++,g=null},100)}),e.win}]).factory("ezweb.core.services.cursor",["$document","$rootScope","ezweb.core.services.scope",function(a,b,c){function d(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}return c.ensure("cursor",{x:0,y:0,pressed:!1}),a.on("mousemove",function(a){a=a||window.event,c.cursor.x=a.clientX,c.cursor.y=a.clientY}),a.on("mousedown",function(){b.$evalAsync(function(){c.cursor.pressed=!0})}),a.on("mouseup",function(){b.$evalAsync(function(){c.cursor.pressed=!1})}),d(a[0],"mouseout",function(a){a=a?a:window.event;var d=a.relatedTarget||a.toElement;d&&"HTML"!=d.nodeName||!(a.clientX<=0||a.clientX+5>=c.win.size.width||a.clientY<=0||a.clientY+5>=c.win.size.height)||b.$evalAsync(function(){c.cursor.pressed=!1})}),c.cursor}]).provider("ezweb.core.services.localstorage",[function(){this.localStorage=window.localStorage,this.$get=["$window",function(a){return a.localStorage}]}])});