define(["angular","jquery","../utilities","../vendor/dataTables.colReorder","less!../styles/colreorder"],function(a,b,c){"use strict";return a.module("ezweb.grid.colreorder",["ezweb.grid"]).directive("ezGridColReorder",["$compile",function(d){return{restrict:"E",require:"^ezGrid",scope:{api:"=?",order:"&",reorderCallback:"&",fixedColumnsRight:"&",fixedColumns:"&",realtime:"&"},link:function(e,f,g,h){var i=c.createConfigFromScope(e,["order","fixedColumnsRight","fixedColumns","realtime"]);h.addPlugin(function(f){a.element(h.api.settings()[0].oInstance).on("column-reorder.ez-grid",function(){h.api.rows().eq(0).each(function(b){var e=h.api.row(b),f=e.node();if(null!==f){var g=c.initRowScope(e.data(),null,h).scope,i=a.element(f);i.addClass("ez-grid-cloak"),d(i)(g),g.$evalAsync(function(){i.removeClass("ez-grid-cloak")})}})}),e.api=new b.fn.dataTable.ColReorder(f,a.copy(i))})}}}])});